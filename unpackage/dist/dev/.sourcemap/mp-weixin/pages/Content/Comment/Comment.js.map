{"version":3,"sources":["webpack:///C:/Users/xch752/Documents/HBuilderProjects/weibo-uniapp/pages/Content/Comment/Comment.vue?64e2","webpack:///C:/Users/xch752/Documents/HBuilderProjects/weibo-uniapp/pages/Content/Comment/Comment.vue?a0ff","webpack:///C:/Users/xch752/Documents/HBuilderProjects/weibo-uniapp/pages/Content/Comment/Comment.vue?862f","webpack:///C:/Users/xch752/Documents/HBuilderProjects/weibo-uniapp/pages/Content/Comment/Comment.vue?5204","webpack:///C:/Users/xch752/Documents/HBuilderProjects/weibo-uniapp/pages/Content/Comment/Comment.vue"],"names":["components","uniNavBar","data","pageNum","pageSize","objectId","microBlogId","microBlogCreaotrId","commentsList","windowHeight","bodyValue","placeholderValue","replyUser","InputBottom","inputFocus","onLoad","option","loadUserData","getSysInfo","initData","methods","uni","getSystemInfo","success","e","console","log","windowWidth","getStorageSync","reLaunch","url","showToast","title","duration","icon","navBack","navigateBack","delta","query","Bmob","Query","equalTo","showLoading","find","then","res_blog","creator","queryComment","field","order","limit","include","relation","res_comment","results","map","res_comment_item","createdAt","getDateDiff","background","hideLoading","catch","err","currentChange","skip","length","concat","postComment","pointer","Pointer","poiID","set","pointer_blog","poiID_blog","pointer_creator","poiID_creator","pointer_reply","poiID_reply","save","res","Relation","relID","add","query1","get","result","error","complete","setTimeout","hideToast","Reply","item","index","nickname","InputFocus","detail","height","InputBlur","dateTimeStamp","timestamp","Date","getTime","minute","hour","day","halfamonth","month","year","now","diffValue","yearC","monthC","weekC","dayC","hourC","minC","parseInt"],"mappings":"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","file":"pages/Content/Comment/Comment.js","sourcesContent":["import { render, staticRenderFns } from \"./Comment.vue?vue&type=template&id=56ba6ec2&\"\nimport script from \"./Comment.vue?vue&type=script&lang=js&\"\nexport * from \"./Comment.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\xch752\\\\Downloads\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('56ba6ec2', component.options)\n    } else {\n      api.reload('56ba6ec2', component.options)\n    }\n    module.hot.accept(\"./Comment.vue?vue&type=template&id=56ba6ec2&\", function () {\n      api.rerender('56ba6ec2', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Documents/HBuilderProjects/weibo-uniapp/pages/Content/Comment/Comment.vue\"\nexport default component.exports","export * from \"-!../../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Comment.vue?vue&type=template&id=56ba6ec2&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Comment.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uniNavBar from \"@/components/uni-nav-bar/uni-nav-bar.vue\" \nexport default {\n\tcomponents: {uniNavBar},\n\tdata() {\n\t\treturn {\n\t\t\t// 评论分页\n\t\t\tpageNum:1,\n\t\t\tpageSize:30,\n\t\t\t// 登录者ID\n\t\t\tobjectId:'',\n\t\t\t// 博客ID\n\t\t\tmicroBlogId:'',\n\t\t\t// 创造博客者ID\n\t\t\tmicroBlogCreaotrId:'',\n\t\t\t// 评论列表\n\t\t\tcommentsList:[],\n\t\t\t// scrollview高度\n\t\t\twindowHeight:'',\n\t\t\t// 发送内容\n\t\t\tbodyValue:'',\n\t\t\t// 回复用户提示\n\t\t\tplaceholderValue:'喜欢就评论告诉TA',\n\t\t\t// 回复用户\n\t\t\treplyUser:{},\n\t\t\t// 底部输入框定位高度\n\t\t\tInputBottom:0,\n\t\t\t// 输入框Focus状态\n\t\t\tinputFocus: false\n\t\t}\n\t},\n\tonLoad:function(option){\n\t\tthis.loadUserData()\n\t\tthis.getSysInfo()\n\t\tthis.microBlogId = option.microBlogId\n\t\tthis.initData()\n\t\t// this.btnInputBlur()\n\t},\n\tmethods: {\n\t\t// 获取屏幕高度\n\t\tgetSysInfo(){\n\t\t\tuni.getSystemInfo({\n\t\t\t\tsuccess:(e)=>{\n\t\t\t\t\tconsole.log(e)\n\t\t\t\t\tthis.windowHeight = e.windowHeight-(e.windowWidth/750)*(100+140)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t//获取用户信息\n\t\tloadUserData(){\n\t\t\ttry {\n\t\t\t\tthis.objectId = uni.getStorageSync('bmob').objectId\n\t\t\t\tif (!this.objectId) {\n\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\turl:'../../Login/Login',\n\t\t\t\t\t\tsuccess:()=>{\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '登录过期',\n\t\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t// error\n\t\t\t\tconsole.log(e)\n\t\t\t\tuni.reLaunch({\n\t\t\t\t\turl:'../../Login/Login',\n\t\t\t\t\tsuccess:()=>{\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '登录过期',\n\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t// 返回\n\t\tnavBack(){\n\t\t\tuni.navigateBack({\n\t\t\t\tdelta: 1\n\t\t\t})\n\t\t},\n\t\t// 初始化数据\n\t\tinitData(){\n\t\t\tconst query = this.Bmob.Query(\"MicroBlog\")\n\t\t\tquery.equalTo(\"objectId\",\"==\", this.microBlogId)\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '加载中'\n\t\t\t})\n\t\t\tquery.find().then(res_blog => {\n\t\t\t\t// console.log(res_blog)\n\t\t\t\t// 查询评论的关联关系\n\t\t\t\t// console.log(res_blog)\n\t\t\t\tthis.microBlogCreaotrId = res_blog[0].creator.objectId\n\t\t\t\tlet queryComment = this.Bmob.Query('MicroBlog')\n\t\t\t\t\tqueryComment.field('comments',res_blog[0].objectId)\n\t\t\t\t\tqueryComment.order(\"-createdAt\")\n\t\t\t\t\tqueryComment.limit(this.pageSize)\n\t\t\t\t\tqueryComment.include('creator','replyUser')\n\t\t\t\t\t// 查询评论的具体用户信息\n\t\t\t\t\tqueryComment.relation('Comment').then(res_comment => {\n\t\t\t\t\t\tres_comment.results.map(res_comment_item=>{\n\t\t\t\t\t\t\tres_comment_item.createdAt = this.getDateDiff(res_comment_item.createdAt)\n\t\t\t\t\t\t\tres_comment_item.background = '#ffffff'\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.commentsList = res_comment.results\n\t\t\t\t\t\tconsole.log('this.commentsList',this.commentsList)\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t}).catch((err)=>{\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: `加载失败${err}`,\n\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t}).catch(err => {\n\t\t\t\tuni.hideLoading()\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: `加载失败${err}`,\n\t\t\t\t\tduration: 2000,\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t// 下拉加载\n\t\tcurrentChange(){\n\t\t\tconst query = this.Bmob.Query(\"MicroBlog\")\n\t\t\tquery.equalTo(\"objectId\",\"==\", this.microBlogId)\n\t\t\tquery.find().then(res_blog => {\n\t\t\t\t// console.log(res_blog)\n\t\t\t\t// 查询评论的关联关系\n\t\t\t\tlet queryComment = this.Bmob.Query('MicroBlog')\n\t\t\t\tqueryComment.field('comments',res_blog[0].objectId)\n\t\t\t\tqueryComment.order(\"-createdAt\")\n\t\t\t\tqueryComment.limit(this.pageSize)\n\t\t\t\tqueryComment.skip(this.pageSize*(this.pageNum))\n\t\t\t\tqueryComment.include('creator','replyUser')\n\t\t\t\t// 查询评论的具体用户信息\n\t\t\t\tqueryComment.relation('Comment').then(res_comment => {\n\t\t\t\t\tif(res_comment.results.length==0){\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '没有更多了',\n\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\ticon:'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.pageNum = this.pageNum+1\n\t\t\t\t\t\tres_comment.results.map(res_comment_item=>{\n\t\t\t\t\t\t\tres_comment_item.createdAt = this.getDateDiff(res_comment_item.createdAt)\n\t\t\t\t\t\t\tres_comment_item.background = '#ffffff'\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.commentsList = this.commentsList.concat(res_comment.results)\n\t\t\t\t\t\tconsole.log('this.commentsList',this.commentsList)\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t}).catch((err)=>{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: `加载失败${err}`,\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}).catch(err => {\n\t\t\t\tuni.hideLoading()\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: `加载失败${err}`,\n\t\t\t\t\tduration: 2000,\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t// 发送评论\n\t\tpostComment(e){\n\t\t\tif(this.bodyValue == '')\n\t\t\treturn\n\t\t\tconsole.log(e)\n\t\t\t// 关联评论者\n\t\t\tconst pointer = this.Bmob.Pointer('_User')\n\t\t\tconst poiID = pointer.set(this.objectId)\n\t\t\t// 关联被评论帖子\n\t\t\tconst pointer_blog = this.Bmob.Pointer('MicroBlog')\n\t\t\tconst poiID_blog = pointer.set(this.microBlogId)\n\t\t\t// 关联被评论者\n\t\t\tconst pointer_creator = this.Bmob.Pointer('_User')\n\t\t\tconst poiID_creator = pointer.set(this.microBlogCreaotrId)\n\t\t\t// 关联被回复者\n\t\t\tconsole.log('this.replyUser.objectId',this.replyUser.objectId)\n\t\t\tif(this.replyUser.objectId){\n\t\t\t\tvar pointer_reply = this.Bmob.Pointer('_User')\n\t\t\t\tvar poiID_reply = pointer_reply.set(this.replyUser.objectId)\n\t\t\t\tconsole.log('pointer_reply',pointer_reply)\n\t\t\t\tconsole.log('poiID_reply',poiID_reply)\n\t\t\t}\n\t\t\t// 写入数据库Comment表 写入评论记录\n\t\t\tconst query = this.Bmob.Query('Comment')\n\t\t\tquery.set('creator',poiID)\n\t\t\tquery.set('commented_blog',poiID_blog)\n\t\t\tquery.set('commented_creator',poiID_creator)\n\t\t\tquery.set('review',this.bodyValue)\n\t\t\tconsole.log('this.replyUser.objectId',this.replyUser.objectId)\n\t\t\tif(this.replyUser.objectId){\n\t\t\t\tquery.set('replyUser',poiID_reply)\n\t\t\t\tconsole.log('poiID_reply',poiID_reply)\n\t\t\t}\n\t\t\t// 写入数据库Comment表 写入评论记录\n\t\t\tconsole.log('query',query)\n\t\t\tquery.save().then(res => {\n\t\t\t\tconsole.log(res)\n\t\t\t\tconst relation = this.Bmob.Relation('Comment') // 需要关联的表\n\t\t\t\tconst relID = relation.add([res.objectId]) //关联表中需要关联的objectId, 返回一个Relation对象, add方法接受string和array的类型参数\n\t\t\t\tconst query1 = this.Bmob.Query('MicroBlog')\n\t\t\t\tquery1.get(this.microBlogId).then(result => {\n\t\t\t\t\tresult.set('comments',relID) // 将Relation对象保存到comments字段中，即实现了一对多的关联\n\t\t\t\t\tresult.save()\n\t\t\t\t\tconsole.log(result)\n\t\t\t\t\tthis.bodyValue = ''\n\t\t\t\t\tthis.initData()\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '评论成功',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.log(err)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle:err.error,\n\t\t\t\t\ticon:'none',\n\t\t\t\t\tcomplete:()=>{\n\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\tuni.hideToast()\n\t\t\t\t\t\t},2000)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t// 点击回复\n\t\tReply(item,index){\n\t\t\tthis.commentsList[index].background = '#eeeeee'\n\t\t\tsetTimeout(()=>{\n\t\t\t\tthis.commentsList[index].background = '#ffffff'\n\t\t\t},300)\n\t\t\tif(this.inputFocus == false){\n\t\t\t\tthis.inputFocus = true\n\t\t\t}\t\t\n\t\t\tthis.placeholderValue = `回复 ${item.creator.nickname}`\n\t\t\tthis.replyUser = item.creator\n\t\t\tconsole.log('replyUser_Reply',this.replyUser)\n\t\t},\n\t\t// 获取input焦点\n\t\tInputFocus(e) {\n\t\t\tconsole.log('InputFocus',this.inputFocus)\n\t\t\tthis.InputBottom = e.detail.height\n\t\t\tthis.inputFocus = true\n\t\t},\n\t\t// 失去input焦点\n\t\tInputBlur(e) {\n\t\t\tconsole.log('InputBlur',this.inputFocus)\n\t\t\tthis.inputFocus = false\n\t\t\tthis.InputBottom = 0\n\t\t\tthis.placeholderValue = '喜欢就评论告诉TA'\n\t\t\tthis.replyUser = {}\n\t\t\tconsole.log('replyUser_InputBlur',this.replyUser)\n\t\t},\n\t\t// 时间格式化几分钟前、几小时前\n\t\t// 时间戳转多少分钟之前\n\t\tgetDateDiff(dateTimeStamp) {\n\t\t\t// 时间字符串转时间戳\n\t\t\tvar timestamp = new Date(dateTimeStamp).getTime();\n\t\t\t\n\t\t\tvar minute = 1000 * 60;\n\t\t\tvar hour = minute * 60;\n\t\t\tvar day = hour * 24;\n\t\t\tvar halfamonth = day * 15;\n\t\t\tvar month = day * 30;\n\t\t\tvar year = day * 365;\n\t\t\tvar now = new Date().getTime();\n\t\t\tvar diffValue = now - timestamp;\n\t\t\tvar result;\n\t\t\tif (diffValue < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar yearC = diffValue / year;\n\t\t\tvar monthC = diffValue / month;\n\t\t\tvar weekC = diffValue / (7 * day);\n\t\t\tvar dayC = diffValue / day;\n\t\t\tvar hourC = diffValue / hour;\n\t\t\tvar minC = diffValue / minute;\n\t\t\tif (yearC >= 1) {\n\t\t\t\tresult = \"\" + parseInt(yearC) + \"年前\";\n\t\t\t} else if (monthC >= 1) {\n\t\t\t\tresult = \"\" + parseInt(monthC) + \"月前\";\n\t\t\t} else if (weekC >= 1) {\n\t\t\t\tresult = \"\" + parseInt(weekC) + \"周前\";\n\t\t\t} else if (dayC >= 1) {\n\t\t\t\tresult = \"\" + parseInt(dayC) + \"天前\";\n\t\t\t} else if (hourC >= 1) {\n\t\t\t\tresult = \"\" + parseInt(hourC) + \"小时前\";\n\t\t\t} else if (minC >= 1) {\n\t\t\t\tresult = \"\" + parseInt(minC) + \"分钟前\";\n\t\t\t} else\n\t\t\t\tresult = \"刚刚\";\n\t\t\treturn result;\n\t\t}\n\t}\n}\n"],"sourceRoot":""}