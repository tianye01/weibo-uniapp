{"version":3,"sources":["webpack:///C:/Users/xch752/Documents/HBuilderProjects/weibo-uniapp/pages/Mine/Mine.vue?13fa","webpack:///C:/Users/xch752/Documents/HBuilderProjects/weibo-uniapp/pages/Mine/Mine.vue?b4f6","webpack:///C:/Users/xch752/Documents/HBuilderProjects/weibo-uniapp/pages/Mine/Mine.vue?f46f","webpack:///C:/Users/xch752/Documents/HBuilderProjects/weibo-uniapp/pages/Mine/Mine.vue?17dd","webpack:///C:/Users/xch752/Documents/HBuilderProjects/weibo-uniapp/pages/Mine/Mine.vue?53b9","webpack:///C:/Users/xch752/Documents/HBuilderProjects/weibo-uniapp/pages/Mine/Mine.vue?1c83","webpack:///C:/Users/xch752/Documents/HBuilderProjects/weibo-uniapp/pages/Mine/Mine.vue"],"names":["data","avatarUrl","nickname","objectId","token","onLoad","loadUserData","initQiniu","onShow","methods","THAT","current","Bmob","User","console","log","uni","reLaunch","url","query","Query","get","then","res","catch","err","policy","bucketName","AK","SK","deadline","Math","round","Date","getTime","scope","modifyavatarUrl","chooseImage","count","sizeType","sourceType","success","_THAT","JSON","stringify","tempFilePaths","filePath","qiniuUploader","upload","set","fileUrl","save","error","region","domain","key","uptoken","progress","showToast","title","icon","toMyMicroBlog","navigateTo","fail","toEmail","toModifyNickname","toDownloadApp","showModal","content","showCancel","logout","confirm"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAA0mC,CAAgB,skCAAG,EAAC,C;;;;;;;;;;;ACA9nC,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+F;AACvC;AACL;AACqC;;;AAGxF;AACwK;AACxK,gBAAgB,gLAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAkxB,CAAgB,ixBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwEtyB;AACA;AACA,yG,8FA1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;eAKc,EACbA,IADa,kBACP,CACL,OAAM,EACLC,SAAS,EAAC,EADL,EAELC,QAAQ,EAAC,EAFJ,EAGLC,QAAQ,EAAC,EAHJ,EAILC,KAAK,EAAC,EAJD,EAAN,CAMA,CARY,EASbC,MATa,oBASL,CACP,KAAKC,YAAL,GACA,KAAKC,SAAL,GACA,CAZY,EAabC,MAba,oBAaJ,CACR,KAAKF,YAAL,GACA,KAAKC,SAAL,GACA,CAhBY,EAiBbE,OAAO,EAAC,EACPH,YADO,0BACO,CAAC;AACd,UAAII,IAAI,GAAG,IAAX,CACA,IAAIC,OAAO,GAAGC,uBAAKC,IAAL,CAAUF,OAAV,EAAd,CAFa,CAEqB;AAClCG,aAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBJ,OAAtB,EACA,IAAG,CAACA,OAAJ,EAAY,CACXK,GAAG,CAACC,QAAJ,CAAa,EACZC,GAAG,EAAC,gBADQ,EAAb,EAGA,CAJD,MAKI,CACH,IAAMC,KAAK,GAAGP,uBAAKQ,KAAL,CAAW,OAAX,CAAd,CADG,CAC+B;AAClCD,aAAK,CAACE,GAAN,CAAUV,OAAO,CAACR,QAAlB,EAA4BmB,IAA5B,CAAiC,UAAAC,GAAG,EAAI,CACvCb,IAAI,CAACT,SAAL,GAAiBsB,GAAG,CAACtB,SAArB,CACAS,IAAI,CAACR,QAAL,GAAgBqB,GAAG,CAACrB,QAApB,CACAQ,IAAI,CAACP,QAAL,GAAgBoB,GAAG,CAACpB,QAApB,CACAW,OAAO,CAACC,GAAR,CAAYQ,GAAZ,EACA,CALD,EAKGC,KALH,CAKS,UAAAC,GAAG,EAAI,CACfX,OAAO,CAACC,GAAR,CAAYU,GAAZ,EACA,CAPD,EAQA,CAED,CAtBM,EAuBPlB,SAvBO,uBAuBI,CACV,IAAIH,KAAJ,CACA,IAAIsB,MAAM,GAAG,EAAb,CACA,IAAIC,UAAU,GAAG,QAAjB,CACA,IAAIC,EAAE,GAAE,0CAAR,CACA,IAAIC,EAAE,GAAG,0CAAT,CACA,IAAIC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAW,IAAIC,IAAJ,GAAWC,OAAX,KAAqB,IAAhC,IAAwC,IAAvD,CACAR,MAAM,CAACS,KAAP,GAAeR,UAAf,CACAD,MAAM,CAACI,QAAP,GAAkBA,QAAlB,CACA1B,KAAK,GAAC,4BAAWwB,EAAX,EAAcC,EAAd,EAAiBH,MAAjB,CAAN,CACA,KAAKtB,KAAL,GAAWA,KAAX,CACA,CAlCM,EAmCPgC,eAnCO,6BAmCU,CAAC;AACjB,UAAI1B,IAAI,GAAG,IAAX,CACAM,GAAG,CAACqB,WAAJ,CAAgB,EACZC,KAAK,EAAE,CADK,EAEZC,QAAQ,EAAE,CAAC,UAAD,EAAa,YAAb,CAFE,EAE0B;AACtCC,kBAAU,EAAE,CAAC,OAAD,CAHA,EAGW;AACvBC,eAAO,EAAE,iBAAUlB,GAAV,EAAe,CAC1B,IAAImB,KAAK,GAAGhC,IAAZ,CACMI,OAAO,CAACC,GAAR,CAAY4B,IAAI,CAACC,SAAL,CAAerB,GAAG,CAACsB,aAAnB,CAAZ,EACN,IAAIC,QAAQ,GAAGvB,GAAG,CAACsB,aAAJ,CAAkB,CAAlB,CAAf,CACAE,uBAAcC,MAAd,CAAqBF,QAArB,EAA+B,UAACvB,GAAD,EAAS,CACvC,IAAMJ,KAAK,GAAGP,uBAAKQ,KAAL,CAAW,OAAX,CAAd,CACAD,KAAK,CAAC8B,GAAN,CAAU,IAAV,EAAgBP,KAAK,CAACvC,QAAtB,EAFuC,CAEP;AAChCgB,iBAAK,CAAC8B,GAAN,CAAU,WAAV,EAAuB1B,GAAG,CAAC2B,OAA3B,EACA/B,KAAK,CAACgC,IAAN,GAAa7B,IAAb,CAAkB,UAAAC,GAAG,EAAI,CACxBT,OAAO,CAACC,GAAR,CAAYQ,GAAZ,EACAmB,KAAK,CAACpC,YAAN,GACA,CAHD,EAGGkB,KAHH,CAGS,UAAAC,GAAG,EAAI,CACfX,OAAO,CAACC,GAAR,CAAYU,GAAZ,EACA,CALD,EAMAX,OAAO,CAACC,GAAR,CAAY,kBAAkBQ,GAAG,CAAC2B,OAAlC,EACA,CAXD,EAWG,UAACE,KAAD,EAAW,CACbtC,OAAO,CAACC,GAAR,CAAY,YAAYqC,KAAxB,EACA,CAbD,EAaG,EACDC,MAAM,EAAE,KADP,EAEDC,MAAM,EAAE,kCAFP,EAE2C;AAC5CC,eAAG,EAAE,EAHJ,EAGQ;AACT;AACAC,mBAAO,EAAE9C,IAAI,CAACN,KALb,CAKoB;AALpB,WAbH,EAmBG,UAACmB,GAAD,EAAS;AACX;AACA,gBAAGA,GAAG,CAACkC,QAAJ,KAAe,GAAlB,EAAsB;AACrBzC,iBAAG,CAAC0C,SAAJ,CAAc;AACbC,qBAAK,sDAAWpC,GAAG,CAACkC,QAAf,CADQ;AAEbG,oBAAI,EAAC,SAFQ,EAAd;;AAIA,aALD,MAKM,IAAGrC,GAAG,CAACkC,QAAJ,KAAe,GAAlB,EAAsB;AAC3BzC,iBAAG,CAAC0C,SAAJ,CAAc;AACbC,qBAAK,4BADQ;AAEbC,oBAAI,EAAC,SAFQ,EAAd;;AAIA;AACD;AACA;AACA;AACA,WAnCD,EAmCG,YAAM;AACP;AACD,WArCD,EAqCG,YAAM;AACP;AACD,WAvCD,EAuCG,UAACnC,GAAD,EAAS;AACV;AACD,WAzCD;AA0CG,SAlDW,EAAhB;;AAoDA,KAzFM;AA0FPoC,iBA1FO,2BA0FQ;AACd,UAAInD,IAAI,GAAG,IAAX;AACAM,SAAG,CAAC8C,UAAJ,CAAe;AACd5C,WAAG,6CAAqCR,IAAI,CAACP,QAA1C,CADW;AAEdsC,eAAO,EAAE,iBAAClB,GAAD,EAAS;AACjBT,iBAAO,CAACC,GAAR,CAAYQ,GAAZ;AACA,SAJa;AAKdwC,YAAI,EAAE,cAACtC,GAAD,EAAS;AACdX,iBAAO,CAACC,GAAR,CAAYU,GAAZ;AACA,SAPa,EAAf;;AASA,KArGM;AAsGPuC,WAtGO,qBAsGE;AACRhD,SAAG,CAAC8C,UAAJ,CAAe;AACd5C,WAAG,EAAC,gBADU;AAEduB,eAAO,EAAE,iBAAClB,GAAD,EAAS;AACjBT,iBAAO,CAACC,GAAR,CAAYQ,GAAZ;AACA,SAJa;AAKdwC,YAAI,EAAE,cAACtC,GAAD,EAAS;AACdX,iBAAO,CAACC,GAAR,CAAYU,GAAZ;AACA,SAPa,EAAf;;AASA,KAhHM;AAiHPwC,oBAjHO,8BAiHW,CAAC;AAClBjD,SAAG,CAAC8C,UAAJ,CAAe;AACd5C,WAAG,mDAA2C,KAAKhB,QAAhD,uBAAqE,KAAKC,QAA1E,CADW;AAEdsC,eAAO,EAAE,iBAAClB,GAAD,EAAS;AACjBT,iBAAO,CAACC,GAAR,CAAYQ,GAAZ;AACA,SAJa;AAKdwC,YAAI,EAAE,cAACtC,GAAD,EAAS;AACdX,iBAAO,CAACC,GAAR,CAAYU,GAAZ;AACA,SAPa,EAAf;;AASA,KA3HM;AA4HPyC,iBA5HO,2BA4HQ,CAAC;AACflD,SAAG,CAACmD,SAAJ,CAAc;AACbR,aAAK,EAAC,IADO;AAEbS,eAAO,EAAC,MAFK;AAGbC,kBAAU,EAAC,KAHE,EAAd;;AAKA,KAlIM;AAmIPC,UAnIO,oBAmIC,CAAC;AACRtD,SAAG,CAACmD,SAAJ,CAAc;AACbR,aAAK,EAAC,IADO;AAEbS,eAAO,EAAC,MAFK;AAGb3B,eAAO,EAAE,iBAAClB,GAAD,EAAS;AACjB,cAAGA,GAAG,CAACgD,OAAJ,IAAa,IAAhB,EAAqB;AACpB3D,mCAAKC,IAAL,CAAUyD,MAAV;AACAtD,eAAG,CAACC,QAAJ,CAAa;AACZC,iBAAG,EAAC,gBADQ,EAAb;;AAGA;AACD,SAVY,EAAd;;AAYA,KAhJM,EAjBK,E","file":"pages/Mine/Mine.js","sourcesContent":["import mod from \"-!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Mine.vue?vue&type=style&index=0&id=d7f5a550&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Mine.vue?vue&type=style&index=0&id=d7f5a550&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin","import { render, staticRenderFns } from \"./Mine.vue?vue&type=template&id=d7f5a550&scoped=true&\"\nimport script from \"./Mine.vue?vue&type=script&lang=js&\"\nexport * from \"./Mine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Mine.vue?vue&type=style&index=0&id=d7f5a550&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d7f5a550\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\xch752\\\\Downloads\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('d7f5a550', component.options)\n    } else {\n      api.reload('d7f5a550', component.options)\n    }\n    module.hot.accept(\"./Mine.vue?vue&type=template&id=d7f5a550&scoped=true&\", function () {\n      api.rerender('d7f5a550', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Documents/HBuilderProjects/weibo-uniapp/pages/Mine/Mine.vue\"\nexport default component.exports","export * from \"-!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Mine.vue?vue&type=template&id=d7f5a550&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Mine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Mine.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Bmob from \"hydrogen-js-sdk\"\nimport {genUpToken} from '../../util/qiniuToken.js'\nimport qiniuUploader from '../../util/qiniuUploader.js'\nexport default{\n\tdata(){\n\t\treturn{\n\t\t\tavatarUrl:'',\n\t\t\tnickname:'',\n\t\t\tobjectId:'',\n\t\t\ttoken:''\n\t\t}\n\t},\n\tonLoad(){\n\t\tthis.loadUserData();\n\t\tthis.initQiniu();\n\t},\n\tonShow() {\n\t\tthis.loadUserData();\n\t\tthis.initQiniu();\n\t},\n\tmethods:{\n\t\tloadUserData(){//获取用户信息\n\t\t\tvar THAT = this;\n\t\t\tlet current = Bmob.User.current();//获取登陆用户信息\n\t\t\tconsole.log('current',current)\n\t\t\tif(!current){\n\t\t\t\tuni.reLaunch({\n\t\t\t\t\turl:'../login/login'\n\t\t\t\t})\n\t\t\t}\n\t\t\telse{\n\t\t\t\tconst query = Bmob.Query('_User');//查询登陆用户具体信息\n\t\t\t\tquery.get(current.objectId).then(res => {\n\t\t\t\t\tTHAT.avatarUrl = res.avatarUrl;\n\t\t\t\t\tTHAT.nickname = res.nickname;\n\t\t\t\t\tTHAT.objectId = res.objectId;\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tinitQiniu(){\n\t\t\tvar token;\n\t\t\tvar policy = {};\n\t\t\tvar bucketName = 'xch752';\n\t\t\tvar AK ='T0c0qxTfHE07tX8QdKxtSaBAvaj6J5b_-HlQYTgf';\n\t\t\tvar SK = 'bT-PoAdQusOcadeX3ELoFPRGDKJHr8d8kYBmBQ5X';\n\t\t\tvar deadline = Math.round(new Date().getTime()/1000) + 3600;\n\t\t\tpolicy.scope = bucketName;\n\t\t\tpolicy.deadline = deadline;\n\t\t\ttoken=genUpToken(AK,SK,policy);\n\t\t\tthis.token=token;\n\t\t},\n\t\tmodifyavatarUrl(){//修改头像\n\t\t\tvar THAT = this;\n\t\t\tuni.chooseImage({\n\t\t\t    count: 1, \n\t\t\t    sizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n\t\t\t    sourceType: ['album'], //从相册选择\n\t\t\t    success: function (res) {\n\t\t\t\t\tvar _THAT = THAT;\n\t\t\t        console.log(JSON.stringify(res.tempFilePaths));\n\t\t\t\t\tvar filePath = res.tempFilePaths[0]\n\t\t\t\t\tqiniuUploader.upload(filePath, (res) => {\n\t\t\t\t\t\tconst query = Bmob.Query('_User');\n\t\t\t\t\t\tquery.set('id', _THAT.objectId) //需要修改的objectId\n\t\t\t\t\t\tquery.set('avatarUrl', res.fileUrl)\n\t\t\t\t\t\tquery.save().then(res => {\n\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\t_THAT.loadUserData();\n\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\t})\n\t\t\t\t\t\tconsole.log('file url is: ' + res.fileUrl);\n\t\t\t\t\t}, (error) => {\n\t\t\t\t\t\tconsole.log('error: ' + error);\n\t\t\t\t\t}, {\n\t\t\t\t\t  region: 'SCN',\n\t\t\t\t\t  domain: 'http://pxcfst1g4.bkt.clouddn.com', // // bucket 域名，下载资源时用到。如果设置，会在 success callback 的 res 参数加上可以直接使用的 ImageURL 字段。否则需要自己拼接\n\t\t\t\t\t  key: '', // [非必须]自定义文件 key。如果不设置，默认为使用微信小程序 API 的临时文件名\n\t\t\t\t\t  // 以下方法三选一即可，优先级为：uptoken > uptokenURL > uptokenFunc\n\t\t\t\t\t  uptoken: THAT.token, // 由其他程序生成七牛 uptoken\n\t\t\t\t\t}, (res) => {\n\t\t\t\t\t\t// console.log(res);\n\t\t\t\t\t\tif(res.progress!==100){\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle:`上传中，已上传${res.progress}`,\n\t\t\t\t\t\t\t\ticon:'loading'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}else if(res.progress===100){\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle:`上传完成`,\n\t\t\t\t\t\t\t\ticon:'success'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// console.log('上传进度', res.progress)\n\t\t\t\t\t\t// console.log('已经上传的数据长度', res.totalBytesSent)\n\t\t\t\t\t\t// console.log('预期需要上传的数据总长度', res.totalBytesExpectedToSend)\n\t\t\t\t\t}, () => {\n\t\t\t\t\t  // 取消上传\n\t\t\t\t\t}, () => {\n\t\t\t\t\t  // `before` 上传前执行的操作\n\t\t\t\t\t}, (err) => {\n\t\t\t\t\t  // `complete` 上传接受后执行的操作(无论成功还是失败都执行)\n\t\t\t\t\t});\n\t\t\t    }\n\t\t\t});\n\t\t},\n\t\ttoMyMicroBlog(){\n\t\t\tvar THAT = this;\n\t\t\tuni.navigateTo({\n\t\t\t\turl:`MyMicroBlog/MyMicroBlog?objectId=${THAT.objectId}`,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\ttoEmail(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl:'../Email/Email',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\ttoModifyNickname(){//跳转修改用户昵称\n\t\t\tuni.navigateTo({\n\t\t\t\turl:`ModifyNickname/ModifyNickname?nickname=${this.nickname}&objectId=${this.objectId}`,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\ttoDownloadApp(){//APP推广\n\t\t\tuni.showModal({\n\t\t\t\ttitle:'提示',\n\t\t\t\tcontent:'暂未开发',\n\t\t\t\tshowCancel:false\n\t\t\t})\n\t\t},\n\t\tlogout(){//登出\n\t\t\tuni.showModal({\n\t\t\t\ttitle:'提示',\n\t\t\t\tcontent:'确认退出',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif(res.confirm==true){\n\t\t\t\t\t\tBmob.User.logout();\n\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\turl:'../login/login'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n}\n"],"sourceRoot":""}